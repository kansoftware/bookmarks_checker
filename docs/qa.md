# Вопросы по архитектуре

## Общие вопросы
1. Какой максимальный размер файла закладок поддерживается?
10 МБ

2. Нужна ли поддержка других браузеров кроме Chrome/Yandex?
Нет (нужен выбор файла для обработки)

3. Как обрабатывать приватные закладки?
Как обычные закладки , только сохранение в отдельном файле

## Технические вопросы
1. Какой таймаут использовать для проверки URL?
5 сек (нужна настройка на экране)

2. Сколько повторных попыток делать при недоступности URL?
3 (нужна настройка на экране)

3. Как обрабатывать редиректы?
Переходить по новой ссылке (нужна настройка на экране)

4. Как извлекать ключевые слова из страницы?
Попытаться прочитать содержимое Keywords, если его нет тогда необходимо его извлечь с помощью LLM (нужно отдельное окно для настройки подключения модели с openrouter.ai/)

5. Какой формат использовать для хранения конфигурации?
json

6. Как обрабатывать ошибки LLM API?
Сохранять промежуточные результаты, логировать ошибки, делать повторные попытки (настраиваемое количество)

7. Как обрабатывать случаи, когда страница требует авторизации?
Пропускать, логировать предупреждение

8. Как обрабатывать динамические страницы (SPA)?
Использовать headless браузер для рендеринга, настраиваемый таймаут

9. Как обрабатывать случаи, когда страница блокирует ботов?
Использовать User-Agent, настраиваемые заголовки запросов

10. Как обрабатывать случаи, когда страница требует JavaScript?
Использовать headless браузер, настраиваемый таймаут

11. Как обрабатывать случаи, когда страница возвращает 403/429?
Использовать экспоненциальную задержку между запросами, настраиваемые параметры

12. Как обрабатывать случаи, когда страница возвращает слишком большой контент?
Ограничить размер загружаемого контента, настраиваемый лимит

13. Как обрабатывать случаи, когда страница использует нестандартную кодировку?
Автоматически определять кодировку, fallback на UTF-8

14. Как обрабатывать случаи, когда страница содержит бинарные данные?
Пропускать бинарный контент, логировать предупреждение

15. Как обрабатывать случаи, когда страница возвращает 404, но есть архивная версия?
Пропускать, логировать предупреждение

16. Как обрабатывать случаи, когда страница требует CAPTCHA?
Пропускать, логировать предупреждение

17. Как обрабатывать случаи, когда страница использует Cloudflare?
Обрабатывать как обычные страницы

18. Как обрабатывать случаи, когда страница использует CDN?
Обрабатывать как обычные страницы

19. Как обрабатывать случаи, когда страница использует WebSocket?
Пропускать, логировать предупреждение

20. Как обрабатывать случаи, когда страница использует WebRTC?
Пропускать, логировать предупреждение

## UI/UX вопросы
1. Нужен ли предпросмотр markdown файлов?
Нет

2. Как отображать прогресс проверки большого количества URL?
Выводи лог в нижней части экрана, а в статус баре пиши число обработанных файлов, общее число файлов и приблизительное время до окночания обработки

3. Нужна ли возможность массового редактирования описаний?
Нет

## Производительность
1. Как обрабатывать большое количество URL?
Паралельно, чило потоков сделать настройкой

2. Нужно ли кэшировать результаты проверки?
Да, нужно сохранять результаты работы, чтобы можно было продолжить обработку с места остановки. Нужна кнопка "Пуск/Стоп". Учти, что у нас многопоточная обработка.

3. Как оптимизировать парсинг страниц?
Конвертируй все загруженные страницы в markdown

4. Как обрабатывать случаи, когда LLM API имеет ограничения на количество запросов?
Будем считать, что LLM API не будет иметь ограничений, но запросы к LLM нужно осуществлять строго последовательно, с настраеваемой задержкой между запросами

5. Как оптимизировать использование памяти при обработке больших файлов?
Я предпологаю, что максимальный размер страницы будет менее 10МБ

## Безопасность
1. Как обрабатывать потенциально опасные URL?
Пропускай такие страницы. В лог пиши причину пропуска

2. Нужна ли проверка SSL сертификатов?
Нет, но в описании сделай примечение.

3. Как защитить конфиденциальные данные в закладках? 
Оставь, как есть, но в описании сделай примечение.

## Дополнительные вопросы
1. Как обрабатывать закладки с одинаковыми URL?
Сохранять все, но в описании делать пометку о дубликатах

2. Как обрабатывать закладки с невалидными URL?
Пропускать, логировать ошибку

3. Как обрабатывать закладки с иконками?
Игнорировать иконки

4. Как обрабатывать закладки с датами создания/изменения?
Сохранять в метаданных markdown файла

5. Как обрабатывать закладки с тегами?
Конвертировать в markdown теги

6. Как обрабатывать закладки с заметками?
Сохранять в описании markdown файла

7. Как обрабатывать закладки с паролями?
Пропускать, логировать предупреждение

8. Как обрабатывать закладки с расширениями?
Пропускать, логировать предупреждение

9. Как обрабатывать закладки с веб-приложениями?
Проверять как обычные URL

10. Как обрабатывать закладки с локальными файлами?
Пропускать, логировать предупреждение

11. Как обрабатывать закладки с относительными URL?
Преобразовывать в абсолютные URL, логировать предупреждение

12. Как обрабатывать закладки с фрагментами URL (#)?
Сохранять фрагменты в метаданных

13. Как обрабатывать закладки с параметрами URL?
Сохранять параметры в метаданных

14. Как обрабатывать закладки с нестандартными протоколами (ftp, telnet и т.д.)?
Пропускать, логировать предупреждение